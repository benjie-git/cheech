<refentry id="gnet-socks">
<refmeta>
<refentrytitle role="top_of_page">SOCKS</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>GNET Library</refmiscinfo>
</refmeta>

<refnamediv>
<refname>SOCKS</refname>
<refpurpose>SOCKS proxy</refpurpose>
<!--[<xref linkend="desc" endterm="desc.title"/>]-->
</refnamediv>

<refsynopsisdiv role="synopsis">
<title role="synopsis.title">Synopsis</title>

<synopsis>

#include &lt;gnet.h&gt;


#define             <link linkend="GNET-SOCKS-PORT:CAPS">GNET_SOCKS_PORT</link>
#define             <link linkend="GNET-SOCKS-VERSION:CAPS">GNET_SOCKS_VERSION</link>
<link linkend="gboolean">gboolean</link>            <link linkend="gnet-socks-get-enabled">gnet_socks_get_enabled</link>              (void);
<link linkend="void">void</link>                <link linkend="gnet-socks-set-enabled">gnet_socks_set_enabled</link>              (<link linkend="gboolean">gboolean</link> enabled);
<link linkend="GInetAddr">GInetAddr</link>*          <link linkend="gnet-socks-get-server">gnet_socks_get_server</link>               (void);
<link linkend="void">void</link>                <link linkend="gnet-socks-set-server">gnet_socks_set_server</link>               (const <link linkend="GInetAddr">GInetAddr</link> *inetaddr);
<link linkend="gint">gint</link>                <link linkend="gnet-socks-get-version">gnet_socks_get_version</link>              (void);
<link linkend="void">void</link>                <link linkend="gnet-socks-set-version">gnet_socks_set_version</link>              (<link linkend="gint">gint</link> version);
</synopsis>
</refsynopsisdiv>









<refsect1 role="desc">
<title role="desc.title">Description</title>
<para>
SOCKS is a TCP proxy protocol.  Typically, a host behind a firewall
uses SOCKS to connect to hosts outside the firewall via a SOCKS proxy
server.  To open a TCP connection, a SOCKS client connects to a SOCKS
server and the SOCKS server connects to the destination.  Data is then
forwarded between the client and the destination by the SOCKS server.
GNet supports SOCKS versions 4 and 5.  Version 5 includes support for
server sockets.
</para>

<para>
SOCKS is used if the SOCKS_SERVER environment variable is set or
<link linkend="gnet-socks-set-server"><function>gnet_socks_set_server()</function></link> is called to set the SOCKS server's address.
To disable SOCKS support, call <link linkend="gnet-socks-set-enabled"><function>gnet_socks_set_enabled()</function></link> and pass
FALSE.  The SOCKS_VERSION environment variable controls which SOCKS
version is used.  The default is version 5.
</para>
</refsect1>

<refsect1 role="details">
<title role="details.title">Details</title>
<refsect2>
<title><anchor id="GNET-SOCKS-PORT:CAPS" role="macro"/>GNET_SOCKS_PORT</title>
<indexterm><primary>GNET_SOCKS_PORT</primary></indexterm><programlisting>#define GNET_SOCKS_PORT 1080
</programlisting>
<para>
Default port for the SOCKS protocol.</para>
<para>

</para></refsect2>
<refsect2>
<title><anchor id="GNET-SOCKS-VERSION:CAPS" role="macro"/>GNET_SOCKS_VERSION</title>
<indexterm><primary>GNET_SOCKS_VERSION</primary></indexterm><programlisting>#define GNET_SOCKS_VERSION 5
</programlisting>
<para>
Default version of the SOCKS protocol.</para>
<para>

</para></refsect2>
<refsect2>
<title><anchor id="gnet-socks-get-enabled" role="function"/>gnet_socks_get_enabled ()</title>
<indexterm><primary>gnet_socks_get_enabled</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            gnet_socks_get_enabled              (void);</programlisting>
<para>
Determines whether SOCKS support is enabled.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> TRUE if SOCKS is enabled, FALSE otherwise.

</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="gnet-socks-set-enabled" role="function"/>gnet_socks_set_enabled ()</title>
<indexterm><primary>gnet_socks_set_enabled</primary></indexterm><programlisting><link linkend="void">void</link>                gnet_socks_set_enabled              (<link linkend="gboolean">gboolean</link> enabled);</programlisting>
<para>
Sets whether SOCKS support is enabled.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>enabled</parameter>&nbsp;:</term>
<listitem><simpara> is SOCKS support enabled?
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="gnet-socks-get-server" role="function"/>gnet_socks_get_server ()</title>
<indexterm><primary>gnet_socks_get_server</primary></indexterm><programlisting><link linkend="GInetAddr">GInetAddr</link>*          gnet_socks_get_server               (void);</programlisting>
<para>
Gets the address of the SOCKS server (regardless of whether SOCKS
 is enabled).  This function checks the <link linkend="gnet-socks-set-server"><function>gnet_socks_set_server()</function></link>
 value and, if not set, the SOCKS_SERVER environment variable.  The
 SOCKS_SERVER enviroment variable should be in the form HOSTNAME or
 HOSTNAME:PORT.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> a copy of the address; NULL if there is no server.

</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="gnet-socks-set-server" role="function"/>gnet_socks_set_server ()</title>
<indexterm><primary>gnet_socks_set_server</primary></indexterm><programlisting><link linkend="void">void</link>                gnet_socks_set_server               (const <link linkend="GInetAddr">GInetAddr</link> *inetaddr);</programlisting>
<para>
Sets the address of the SOCKS server.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>inetaddr</parameter>&nbsp;:</term>
<listitem><simpara> SOCKS server address
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="gnet-socks-get-version" role="function"/>gnet_socks_get_version ()</title>
<indexterm><primary>gnet_socks_get_version</primary></indexterm><programlisting><link linkend="gint">gint</link>                gnet_socks_get_version              (void);</programlisting>
<para>
Gets the SOCKS version GNet uses.  This function checks the
 <link linkend="gnet-socks-set-version"><function>gnet_socks_set_version()</function></link> value and, if not set, the SOCKS_VERSION
 environment variable.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><emphasis>Returns</emphasis>&nbsp;:</term><listitem><simpara> the SOCKS version.

</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="gnet-socks-set-version" role="function"/>gnet_socks_set_version ()</title>
<indexterm><primary>gnet_socks_set_version</primary></indexterm><programlisting><link linkend="void">void</link>                gnet_socks_set_version              (<link linkend="gint">gint</link> version);</programlisting>
<para>
Sets the SOCKS version GNet uses.  GNet only supports versions 4
 and 5.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>version</parameter>&nbsp;:</term>
<listitem><simpara> SOCKS version
</simpara></listitem></varlistentry>
</variablelist></refsect2>

</refsect1>




</refentry>
